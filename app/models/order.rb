class Order < ApplicationRecord
  belongs_to :cart

  enum status: [:ordered, :payed, :in_progress, :sent]

  validates :name, :address, :email, presence: true
  validates :status, inclusion: statuses.keys



after_create :mail_order_done
  def mail_order_done
    OrderMailer.mail_order(self).deliver_now
    puts 'Commande validÃ© -> Email envoyÃ©'
	puts '##########################################################################################'  
	puts '##########################################################################################'  
	puts '##########################################################################################'  
	puts '##########################################################################################'  
	puts '##########################################################################################'  
	puts '##########################################################################################'  
	puts '##########################################################################################'  
	puts '##########################################################################################'  
  end
end
